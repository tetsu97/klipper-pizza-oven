/* === Dashboard styles (clean & fluid) === */
.dash { display: flex; flex-direction: column; gap: 12px; }
.dash-card { background: #171a2e; border: 1px solid #262a45; border-radius: 12px; padding: 12px; }

/* Status Bar */
.dash-status { display: grid; grid-template-columns: minmax(0,1fr) auto; grid-template-areas: "left right" "progress progress"; gap: 12px; align-items: center; }
.dash-status-left { grid-area: left; min-width: 0; display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
.dash-state { padding: 4px 10px; border-radius: 999px; font-weight: 600; }
.dash-meta { display: flex; gap: 14px; flex-wrap: wrap; min-width: 0; align-items: center; }
.dash-status-right { grid-area: right; justify-self: end; }
.dash-progress { grid-area: progress; height: 8px; background: #252c52; border-radius: 999px; overflow: hidden; margin-top: 4px; }
.dash-progress > #dashProgressBar { height: 100%; background: #5b86ff; transition: width .2s; }
.dash-emergency { display: flex; gap: 8px; align-items: center; }

/* Grid Karet */
.dash-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 12px; }

/* Hlavička karty */
.dash-card-head { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
.dash-card-head h3 { margin: 0; }
.dash-card-head .dash-actions { margin-left: auto; }
#dashClearStateContainer { margin-left: auto; }

/* Karta "Actual Program" */
.dash-job-detail { display: flex; gap: 16px; align-items: center; }
.dash-preview { width: clamp(160px, 18vw, 200px); height: clamp(120px, 13vw, 150px); background: #0e1022; border: 1px solid #2a2f55; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #6a7390; position: relative; overflow: hidden; flex-shrink: 0; }
.dash-preview .dash-preview-img { display: block; width: 100%; height: 100%; object-fit: cover; }
.dash-kv { display: grid; grid-template-columns: auto 1fr; gap: 6px 12px; align-content: start; }

/* Karta "Temperature" */
.dash-temps-layout { display: grid; grid-template-columns: minmax(220px, auto) 1fr; gap: 12px; align-items: start; }
.temps { table-layout: fixed; }
.chart-wrap { height: clamp(220px, 30vh, 280px); background: #10132a; border: 1px solid #242a4f; border-radius: 10px; padding: 6px; }

/* Karta "Console" */
.dash-console { height: 160px; background: #0f1124; border: 1px solid #242a4f; border-radius: 10px; padding: 8px; overflow: auto; white-space: pre-wrap; font-family: ui-monospace, monospace; }
.dash-console-input { margin-top: 8px; display: flex; gap: 8px; align-items: center; }

/* OPRAVA: Spolehlivé skrytí karty */
#dashJobDetail[hidden] {
    display: none;
}

@media (max-width: 980px) {
  .dash-status { grid-template-columns: 1fr; grid-template-areas: "right" "left" "progress"; align-items: start; }
  .dash-meta { font-size: 0.9rem; }
  .dash-temps-layout { grid-template-columns: 1fr; }
}
